---
import FaviconImage from './FaviconImage.astro';

interface Props {
  data: ReadonlyArray<{
    day?: `${number}-${number}-${number}`;
    title: string;
    description: string;
    urls: string[];
  }>;
}

const { data } = Astro.props;
---

<div class="main">
  {
    data.map((v) => (
      <section class="section">
        <h2>{v.title}</h2>
        {v.day && (
          <time class="date" datetime={v.day}>
            {v.day}
          </time>
        )}
        <p>{v.description}</p>
        <ul class="ul">
          {v.urls.sort().map((url) => (
            <li class="li">
              <FaviconImage url={url} />
            </li>
          ))}
        </ul>
      </section>
    ))
  }
</div>

<style lang="scss">
  .main {
    display: grid;
    flex-direction: column;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 8px;
    max-width: 1200px;
    padding: 8px;
    margin: 0 20px;

    @include is-sp {
      grid-template-columns: 1fr;
    }
  }

  .section {
    padding: 8px;
    border: 1px solid gray;
    border-radius: 8px;

    .title {
      margin: 0;
      font-size: 1.2em;
    }

    .date {
      font-size: 0.8em;
      color: gray;
    }

    .description {
      margin: 4px 0;
    }
  }

  .ul {
    display: flex;
    gap: 8px;
    padding: 0;
  }

  .li {
    list-style: none;
  }
</style>
